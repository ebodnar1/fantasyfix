<html>
    <br><br>
    <h1 class='text-center'>My Team</h1>
    <hr>
    <p class='text-center' *ngIf='!filled'>Please fill out your League ID and the Year on the homepage</p>
    <br>

    <div class="container-fluid" *ngIf='allTeams && filled'>
        <div class="row justify-content-center">
            <div class="col-md-2 col-sm-10 text-center">
                <p class='text-center'>Select a team</p>
                <mat-form-field appearance='fill'>
                    <mat-label>Team</mat-label>
                    <mat-select [formControl]='allTeams' (selectionChange)='onSelectClick($event)'>
                        <mat-option *ngFor='let team of allTeams' [value]='team'>{{team}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
    </div>
    
    <div class="container-fluid" *ngIf='showPieChart'>
        <br><br>
        <div class="row justify-content-center">
            <div class="col text-center align-self-center">
                <h3>Team Comparison</h3>
                <table mat-table [dataSource]='teamStats'>
                    <ng-container matColumnDef='TeamID' sticky>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>ID</th>
                        <td mat-cell *matCellDef="let t"> {{t.TeamID}} </td>
                    </ng-container>
                    <ng-container matColumnDef='R'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>R</th>
                        <td mat-cell *matCellDef="let t"> {{t.R}} </td>
                    </ng-container>
                    <ng-container matColumnDef='RBI'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>RBI</th>
                        <td mat-cell *matCellDef="let t"> {{t.RBI}} </td>
                    </ng-container>
                    <ng-container matColumnDef='HR'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>HR</th>
                        <td mat-cell *matCellDef="let t"> {{t.HR}} </td>
                    </ng-container>
                    <ng-container matColumnDef='BA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>BA</th>
                        <td mat-cell *matCellDef="let t"> {{t.BA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SB'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>SB</th>
                        <td mat-cell *matCellDef="let t"> {{t.SB}} </td>
                    </ng-container>

                    <ng-container matColumnDef='WHIP'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>WHIP</th>
                        <td mat-cell *matCellDef="let t"> {{t.WHIP}} </td>
                    </ng-container>
                    <ng-container matColumnDef='ERA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>ERA</th>
                        <td mat-cell *matCellDef="let t"> {{t.ERA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='K'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>K</th>
                        <td mat-cell *matCellDef="let t"> {{t.K}} </td>
                    </ng-container>
                    <ng-container matColumnDef='W'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>W</th>
                        <td mat-cell *matCellDef="let t"> {{t.W}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SV'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>SV</th>
                        <td mat-cell *matCellDef="let t"> {{t.SV}} </td>
                    </ng-container>
                    <ng-container matColumnDef='Total' sticky>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Total</th>
                        <td mat-cell *matCellDef="let t"> {{t.Total}} </td>
                    </ng-container>
                    <!--This will allow me to hardcode every possible category, even if it is not to be displayed! yay!-->
                    <ng-container matColumnDef='AB'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>AB</th>
                        <td mat-cell *matCellDef="let t"> {{t.AB}} </td>
                    </ng-container>
                    <ng-container matColumnDef='H'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>H</th>
                        <td mat-cell *matCellDef="let t"> {{t.H}} </td>
                    </ng-container>
                    <ng-container matColumnDef='Single'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Single</th>
                        <td mat-cell *matCellDef="let t"> {{t.Single}} </td>
                    </ng-container>
                    <ng-container matColumnDef='Double'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Double</th>
                        <td mat-cell *matCellDef="let t"> {{t.Double}} </td>
                    </ng-container>
                    <ng-container matColumnDef='Triple'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Triple</th>
                        <td mat-cell *matCellDef="let t"> {{t.Triple}} </td>
                    </ng-container>
                    <ng-container matColumnDef='TB'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>TB</th>
                        <td mat-cell *matCellDef="let t"> {{t.TB}} </td>
                    </ng-container>
                    <ng-container matColumnDef='XBH'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>XBH</th>
                        <td mat-cell *matCellDef="let t"> {{t.XBH}} </td>
                    </ng-container>
                    <ng-container matColumnDef='GWRBI'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Game Winning RBI</th>
                        <td mat-cell *matCellDef="let t"> {{t.GWRBI}} </td>
                    </ng-container>
                    <ng-container matColumnDef='BB'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>BB</th>
                        <td mat-cell *matCellDef="let t"> {{t.BB}} </td>
                    </ng-container>
                    <ng-container matColumnDef='IBB'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Intentional BB</th>
                        <td mat-cell *matCellDef="let t"> {{t.IBB}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SO'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>SO (Batter)</th>
                        <td mat-cell *matCellDef="let t"> {{t.SO}} </td>
                    </ng-container>
                    <ng-container matColumnDef='HBP'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>HBP (Batter)</th>
                        <td mat-cell *matCellDef="let t"> {{t.HBP}} </td>
                    </ng-container>
                    <ng-container matColumnDef='Sac'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Sacrifice</th>
                        <td mat-cell *matCellDef="let t"> {{t.Sac}} </td>
                    </ng-container>
                    <ng-container matColumnDef='RC'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Runs Created</th>
                        <td mat-cell *matCellDef="let t"> {{t.RC}} </td>
                    </ng-container>
                    <ng-container matColumnDef='CS'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>CS</th>
                        <td mat-cell *matCellDef="let t"> {{t.CS}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SBN'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>SNB??</th>
                        <td mat-cell *matCellDef="let t"> {{t.SBN}} </td>
                    </ng-container>
                    <ng-container matColumnDef='GDP'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>GDP</th>
                        <td mat-cell *matCellDef="let t"> {{t.GDP}} </td>
                    </ng-container>
                    <ng-container matColumnDef='PPA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Pitches per PA</th>
                        <td mat-cell *matCellDef="let t"> {{t.PPA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='OBP'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>OBP</th>
                        <td mat-cell *matCellDef="let t"> {{t.OBP}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SLG'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>SLG</th>
                        <td mat-cell *matCellDef="let t"> {{t.SLG}} </td>
                    </ng-container>
                    <ng-container matColumnDef='OPS'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>OPS</th>
                        <td mat-cell *matCellDef="let t"> {{t.OPS}} </td>
                    </ng-container>
                    <ng-container matColumnDef='FC'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>FC</th>
                        <td mat-cell *matCellDef="let t"> {{t.FC}} </td>
                    </ng-container>
                    <ng-container matColumnDef='PO'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Put Outs</th>
                        <td mat-cell *matCellDef="let t"> {{t.PO}} </td>
                    </ng-container>
                    <ng-container matColumnDef='A'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Assists</th>
                        <td mat-cell *matCellDef="let t"> {{t.A}} </td>
                    </ng-container>
                    <ng-container matColumnDef='OAST'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Outfield Assists</th>
                        <td mat-cell *matCellDef="let t"> {{t.OAST}} </td>
                    </ng-container>
                    <ng-container matColumnDef='E'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Errors</th>
                        <td mat-cell *matCellDef="let t"> {{t.E}} </td>
                    </ng-container>
                    <ng-container matColumnDef='DPT'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Double Plays Turned</th>
                        <td mat-cell *matCellDef="let t"> {{t.DPT}} </td>
                    </ng-container>
                    <ng-container matColumnDef='FPCT'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Fielding %</th>
                        <td mat-cell *matCellDef="let t"> {{t.FPCT}} </td>
                    </ng-container>
                    <ng-container matColumnDef='BTW'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>BTW??</th>
                        <td mat-cell *matCellDef="let t"> {{t.BTW}} </td>
                    </ng-container>
                    <ng-container matColumnDef='G'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Games (Pitching)</th>
                        <td mat-cell *matCellDef="let t"> {{t.G}} </td>
                    </ng-container>
                    <ng-container matColumnDef='GS'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>GS (Pitching)</th>
                        <td mat-cell *matCellDef="let t"> {{t.GS}} </td>
                    </ng-container>
                    <ng-container matColumnDef='O'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Outs Made</th>
                        <td mat-cell *matCellDef="let t"> {{t.IP}} </td>
                    </ng-container>
                    <ng-container matColumnDef='HA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Hits Allowed</th>
                        <td mat-cell *matCellDef="let t"> {{t.HA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='RA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Runs Allowed</th>
                        <td mat-cell *matCellDef="let t"> {{t.RA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='ER'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>ER Allowed</th>
                        <td mat-cell *matCellDef="let t"> {{t.ER}} </td>
                    </ng-container>
                    <ng-container matColumnDef='HRA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>HR Allowed</th>
                        <td mat-cell *matCellDef="let t"> {{t.HRA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='BBA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>BB Allowed</th>
                        <td mat-cell *matCellDef="let t"> {{t.BBA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='HBPP'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>HBP (Pitcher)</th>
                        <td mat-cell *matCellDef="let t"> {{t.HBPP}} </td>
                    </ng-container>
                    <ng-container matColumnDef='QS'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>QS</th>
                        <td mat-cell *matCellDef="let t"> {{t.QS}} </td>
                    </ng-container>
                    <ng-container matColumnDef='CG'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>CG</th>
                        <td mat-cell *matCellDef="let t"> {{t.CG}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SHU'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Shutouts</th>
                        <td mat-cell *matCellDef="let t"> {{t.SHU}} </td>
                    </ng-container>
                    <ng-container matColumnDef='BF'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Batters Faced</th>
                        <td mat-cell *matCellDef="let t"> {{t.BF}} </td>
                    </ng-container>
                    <ng-container matColumnDef='PC'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Pitch Count (?)</th>
                        <td mat-cell *matCellDef="let t"> {{t.PC}} </td>
                    </ng-container>
                    <ng-container matColumnDef='L'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>L</th>
                        <td mat-cell *matCellDef="let t"> {{t.L}} </td>
                    </ng-container>
                    <ng-container matColumnDef='WPCT'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Win %</th>
                        <td mat-cell *matCellDef="let t"> {{t.WPCT}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SOP'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>SOP??</th>
                        <td mat-cell *matCellDef="let t"> {{t.SOP}} </td>
                    </ng-container>
                    <ng-container matColumnDef='BS'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>BS</th>
                        <td mat-cell *matCellDef="let t"> {{t.BS}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SVPCT'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>Save %</th>
                        <td mat-cell *matCellDef="let t"> {{t.SVPCT}} </td>
                    </ng-container>
                    <ng-container matColumnDef='HD'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>HD</th>
                        <td mat-cell *matCellDef="let t"> {{t.HD}} </td>
                    </ng-container>
                    <ng-container matColumnDef='BAA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>BA Against</th>
                        <td mat-cell *matCellDef="let t"> {{t.BAA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='OBPA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>OBP Against</th>
                        <td mat-cell *matCellDef="let t"> {{t.OBPA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='KN'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>K/9</th>
                        <td mat-cell *matCellDef="let t"> {{t.KN}} </td>
                    </ng-container>
                    <ng-container matColumnDef='PTW'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>PTW??</th>
                        <td mat-cell *matCellDef="let t"> {{t.PTW}} </td>
                    </ng-container>
                    <ng-container matColumnDef='KW'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>K/W</th>
                        <td mat-cell *matCellDef="let t"> {{t.KW}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SVHD'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>SV + HD</th>
                        <td mat-cell *matCellDef="let t"> {{t.SVHD}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef='condensed'></tr>
                    <tr mat-row *matRowDef="let row; columns: condensed;"></tr>
                </table>
            </div>
        </div>

        <br>
    </div>

    <div class="container-fluid" *ngIf='chosen'>
        <hr>
        <br>
        <h3 class='text-center'>Points visualized</h3>
        <p class='text-center'>Choose a week to view a breakdown of your team's points</p>
        <div class="row justify-content-center">
            <div class="col-md-2 col-sm-10 text-center align-self-center">
                <mat-form-field appearance='fill'>
                    <!--FIX THIS LABEL-->
                    <mat-label>Week</mat-label>
                    <mat-select [formControl]='weeks' (selectionChange)='onWeekClick($event)'>
                        <mat-option *ngFor='let week of weeks' [value]='week'>{{week}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
    </div>

    <div class="container-fluid" *ngIf='showError'>
        <div class="row justify-content-center">
            <div class="col text-center">
                <p>This week has not been played yet!</p>
            </div>
        </div>
    </div>

   <div class="container-fluid">
       <div class="row justify-content-center">
            <div class="col-md-6 col-sm-9 text-center pi-chart" *ngIf='showPieChart'>
                <ngx-charts-pie-chart class='text-center' [scheme]='colorScheme' [results]='pieChartData' [gradient]='gradient' [legend]='showLegend' [legendPosition]='legendPosition' [labels]='showLabels' [doughnut]='isDoughnut'>

                </ngx-charts-pie-chart>
            </div>
       </div>
   </div>

    <div class="container-fluid" *ngIf='chosen'>
        <hr>
        <br>
        <h3 class='text-center'>Trends</h3>
        <p class="text-center">Choose a category to view your team's performance over time</p>
        <div class="row justify-content-center">
            <div class="col-lg-2 col-md-6 text-center align-self-center">
                <mat-form-field appearance='fill'>
                    <mat-label>Category</mat-label>
                    <mat-select [formControl]='categoryNames' (selectionChange)='onCategoryClick($event)'>
                        <mat-option *ngFor='let cat of categoryNames' [value]='cat'>{{cat}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-lg-9 col-md-10 text-center" style='height: 420px;' *ngIf='showLineChart'>
                <ngx-charts-line-chart
                [scheme]='lineScheme'
                [legend]='lineLegend'
                [showXAxisLabel]='showXAxisLabel'
                [showYAxisLabel]='showYAxisLabel'
                [xAxis]='xAxis'
                [yAxis]='yAxis'
                [xAxisLabel]='xAxisLabel'
                [results]='lineChartData'
                [legendPosition]='lineLegendPosition'
                [autoScale]='lineAutoscale'>

                </ngx-charts-line-chart>
            </div>
        </div>
        <br>
    </div>

    <br><br>
</html>
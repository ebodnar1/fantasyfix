<html>
    <br><br>
    <h1 class='text-center'>My Team</h1>
    <hr>
    <p class='text-center' *ngIf='!filled'>Please fill out your League ID and the Year on the homepage</p>
    <br>

    <div class="container-fluid" *ngIf='filled'>
        <div class="row justify-content-center">
            <div class="col-md-2 col-sm-10 text-center">
                <p class='text-center'>Select a team</p>
                <mat-form-field appearance='fill'>
                    <!--FIX THIS LABEL-->
                    <mat-label>Team</mat-label>
                    <mat-select [formControl]='allTeams' (selectionChange)='onSelectClick($event)' placeholder="Team">
                        <mat-option *ngFor='let team of allTeams' [value]='team'>{{team}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
    </div>
    
    <div class="container-fluid" *ngIf='showPieChart'>
        <br><br>
        <div class="row justify-content-center">
            <div class="col text-center align-self-center">
                <h3>Team Comparison</h3>
                <table mat-table [dataSource]='teamStats'>
                    <ng-container matColumnDef='TeamID'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'></th>
                        <td mat-cell *matCellDef="let t"> {{t.TeamID}} </td>
                    </ng-container>
                    <ng-container matColumnDef='R'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>R</th>
                        <td mat-cell *matCellDef="let t"> {{t.R}} </td>
                    </ng-container>
                    <ng-container matColumnDef='RBI'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>RBI</th>
                        <td mat-cell *matCellDef="let t"> {{t.RBI}} </td>
                    </ng-container>
                    <ng-container matColumnDef='HR'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>HR</th>
                        <td mat-cell *matCellDef="let t"> {{t.HR}} </td>
                    </ng-container>
                    <ng-container matColumnDef='BA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>BA</th>
                        <td mat-cell *matCellDef="let t"> {{t.BA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SB'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>SB</th>
                        <td mat-cell *matCellDef="let t"> {{t.SB}} </td>
                    </ng-container>

                    <ng-container matColumnDef='WHIP'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>WHIP</th>
                        <td mat-cell *matCellDef="let t"> {{t.WHIP}} </td>
                    </ng-container>
                    <ng-container matColumnDef='ERA'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>ERA</th>
                        <td mat-cell *matCellDef="let t"> {{t.ERA}} </td>
                    </ng-container>
                    <ng-container matColumnDef='K'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>K</th>
                        <td mat-cell *matCellDef="let t"> {{t.K}} </td>
                    </ng-container>
                    <ng-container matColumnDef='W'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>W</th>
                        <td mat-cell *matCellDef="let t"> {{t.W}} </td>
                    </ng-container>
                    <ng-container matColumnDef='SV'>
                        <th mat-header-cell *matHeaderCellDef class='text-center'>SV</th>
                        <td mat-cell *matCellDef="let t"> {{t.SV}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef='condensed'></tr>
                    <tr mat-row *matRowDef="let row; columns: condensed;"></tr>
                </table>
            </div>
        </div>

        <br>
    </div>

    <div class="container-fluid" *ngIf='chosen'>
        <hr>
        <br>
        <h3 class='text-center'>Points visualized</h3>
        <p class='text-center'>Choose a week to view a breakdown of your team's points</p>
        <div class="row justify-content-center">
            <div class="col-md-2 col-sm-10 text-center align-self-center">
                <mat-form-field appearance='fill'>
                    <!--FIX THIS LABEL-->
                    <mat-label>Week</mat-label>
                    <mat-select [formControl]='weeks' (selectionChange)='onWeekClick($event)'>
                        <mat-option *ngFor='let week of weeks' [value]='week'>{{week}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
    </div>

    <div class="container-fluid" *ngIf='showError'>
        <div class="row justify-content-center">
            <div class="col text-center">
                <p>This week has not been played yet!</p>
            </div>
        </div>
    </div>

   <div class="container-fluid">
       <div class="row justify-content-center">
            <div class="col-md-6 col-sm-9 text-center pi-chart" *ngIf='showPieChart'>
                <ngx-charts-pie-chart class='text-center' [scheme]='colorScheme' [results]='pieChartData' [gradient]='gradient' [legend]='showLegend' [legendPosition]='legendPosition' [labels]='showLabels' [doughnut]='isDoughnut'>

                </ngx-charts-pie-chart>
            </div>
       </div>
   </div>

    <div class="container-fluid" *ngIf='showPieChart'>
        <div class="row justify-content-center">
            
        </div>
    </div>

    <div class="container-fluid" *ngIf='showPieChart'>
        <hr>
        <br>
        <h3 class='text-center'>Trends</h3>
        <p class="text-center">Choose a category to view your team's performance over time</p>
        <div class="row justify-content-center">
            <div class="col-lg-2 col-md-6 text-center align-self-center">
                <mat-form-field appearance='fill'>
                    <mat-label>Category</mat-label>
                    <mat-select [formControl]='categoryNames' (selectionChange)='onCategoryClick($event)'>
                        <mat-option *ngFor='let cat of categoryNames' [value]='cat'>{{cat}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-lg-9 col-md-10 text-center" style='height: 420px;' *ngIf='showLineChart'>
                <ngx-charts-line-chart
                [scheme]='lineScheme'
                [legend]='lineLegend'
                [showXAxisLabel]='showXAxisLabel'
                [showYAxisLabel]='showYAxisLabel'
                [xAxis]='xAxis'
                [yAxis]='yAxis'
                [xAxisLabel]='xAxisLabel'
                [results]='lineChartData'
                [legendPosition]='lineLegendPosition'
                [autoScale]='lineAutoscale'>

                </ngx-charts-line-chart>
            </div>
        </div>
        <br>
    </div>

    <br><br>
</html>